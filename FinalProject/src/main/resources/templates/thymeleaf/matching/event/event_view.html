<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      	layout:decorator="layout/sub">
<head>
  	<title>User</title>
	<!-- 페이지 css -->
	<th:block layout:fragment="css">
		<style>
			label {
				font-size: 15px;
				font-weight: 400;
			}
		</style>
	</th:block>
	
	<!-- 페이지 js -->
	<th:block layout:fragment="js">
		<script>
 function check(){
	 var a = parseInt(document.getElementById("eveMxCnt").value);
	 var b = parseInt(document.getElementById('eveApplicant').value);
	 if(b>=a){
		 alert('신청인원이 초과 되었습니다.') 
		 return false;
	 }
	 
 }
 
 
		
		</script>
	</th:block>
</head>

<body>
	<th:block layout:fragment="content" class="content">
   	<section id="page-title">

		<div class="container clearfix">
			<h1>EVENT</h1>
		</div>

	</section>
	
	<section id="content">

		<div class="content-wrap">

			<div class="container clearfix">

				<!-- Post Content -->
				<div class="postcontent nobottommargin col_last clearfix">
					<h3>이벤트 상세 보기</h3>
<form th:action="@{eventJoin(eveNo=${eventDTO.eveNo})}" method="post" onsubmit="return check()">
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						이벤트 NO
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							[[${eventDTO.eveNo}]]
	        						</p>
	        					</div>
	        				</div>
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						이벤트 제목
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							[[${eventDTO.eveSubject}]]
	        						</p>
	        					</div>
	        				</div>
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						이벤트 내용
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext" th:utext="${eventDTO.eveContent}">
	        						</p>
	        					</div>
	        				</div>
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						이벤트 일시
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							[[${eventDTO.eveDate}]]
	        						</p>
	        					</div>
	        				</div>
	        				
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						이벤트 장소
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							[[${eventDTO.eveLoc}]]
	        						</p>
	        					</div>
	        				</div>
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						최대모집인원
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							<input readonly="readonly" type="hidden" id=eveMxCnt th:value="${eventDTO.eveMxCnt}">[[${eventDTO.eveMxCnt}]]
	        						</p>
	        					</div>
	        				</div>
	        				
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						신청자수
	        					</label>
	        					<div class="col-sm-10">
	        						<p class="form-control-plaintext">
	        							<input readonly="readonly" type="hidden" id=eveApplicant th:value="${eventDTO.eveApplicant}">[[${eventDTO.eveApplicant}]]
	        						</p>
	        					</div>
	        				</div>
	        				
	        				
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        						참가신청
	        					</label>
	        					<div class="col-sm-10">
	        						<button type="submit" class="btn btn-primary" id="btn">신청하기</button>
	        					</div>
	        				</div>
	        				
	        				
								
								
								
	        				<div class="form-group row">
	        					<label for="" class="col-sm-2 col-form-label">
	        					
	        					</label>
	        					
	        					<div class="col-sm-10" th:each="file, i:${fileList}">
	        						<p class="form-control-plaintext">
	        							<img th:src="@{'/static/upload/event/'+${file.eveStoreImage}}"/>
	        						</p>
	        					</div>
	        				</div>
	        				
	        				
	        				
	        			</form>


					
				</div><!-- .postcontent end -->

				<!-- left Menu -->
			<!-- 	<th:block th:replace="fragments/mypage_menu :: mypageMenuFragment(active='matching')"></th:block> -->
				<!-- .left Menu end -->

			</div>

		</div>

	</section>
    </th:block>
</body>
</html>
